<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baseerah - Investment Analysis Platform</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .logo span {
            font-family: 'Montserrat', sans-serif;
            font-weight: 100;
            text-transform: uppercase;
            font-size: 30px;
        }
        
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-bg: #f5f5f5;
    --secondary-bg: #ffffff;
    --card-bg: #ffffff;
    --sidebar-bg: #031A35;
    --text-primary: #2c2c2c;
    --text-secondary: #6b6b6b;
    --text-light: #ffffff;
    --accent-cyan: #00b8d4;
    --accent-green: #4caf50;
    --accent-orange: #ff9800;
    --border-color: #e0e0e0;
    --hover-bg: #f9f9f9;
    --sidebar-hover: #4a4a4a;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    background-color: var(--primary-bg);
    color: var(--text-primary);
    line-height: 1.6;
    margin: 0;
    padding: 0;
}

/* Sidebar Navigation */
nav {
    background-color: var(--sidebar-bg);
    width: 280px;
    height: 100vh;
    position: fixed;
    left: 0;
    top: 0;
    display: flex;
    flex-direction: column;
    padding: 2rem 0;
    box-shadow: 4px 0 10px rgba(0, 0, 0, 0.1);
    z-index: 100;
}

.logo {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-light);
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0 2rem;
    margin-bottom: 3rem;
}

.nav-links {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    list-style: none;
    flex: 1;
    padding: 0 1rem;
}

.nav-links li {
    width: 100%;
}

.nav-links a {
    color: #b0b0b0;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s;
    padding: 1rem 1.5rem;
    border-radius: 8px;
    display: flex;
    align-items: center;
    gap: 1rem;
    font-size: 1rem;
}

.nav-links a:hover {
    color: var(--text-light);
    background-color: var(--sidebar-hover);
}

.nav-links a.active {
    color: var(--text-light);
    font-weight: 600;
}

.user-menu {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 2rem;
    color: var(--text-light);
    cursor: pointer;
    margin-top: auto;
    border-top: 1px solid #4a4a4a;
}

/* Main Container */
.container {
    margin-left: 280px;
    padding: 2rem 3rem;
    min-height: 800vh;
    margin-top: 30px;
    margin-bottom: 30px;
    border-radius: 80px;
}

/* Page Header */
.page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
}

.page-title {
    font-size: 2rem;
    font-weight: 700;
}

/* Buttons */
.btn {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 0.95rem;
}

.btn-primary {
    background: linear-gradient(135deg, var(--accent-cyan), #29B6F6);
    color: white;
    box-shadow: 0 4px 15px rgba(79, 195, 247, 0.3);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(79, 195, 247, 0.4);
}

.btn-secondary {
    background-color: var(--secondary-bg);
    color: var(--text-primary);
    border: 1px solid var(--border-color);
}

.btn-secondary:hover {
    background-color: var(--hover-bg);
}

/* Dashboard Table */
.table-container {
    background-color: var(--card-bg);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    border: 1px solid var(--border-color);
}

.table-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem;
    border-bottom: 1px solid var(--border-color);
}

.search-box {
    display: flex;
    align-items: center;
    background-color: var(--primary-bg);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    width: 300px;
    border: 1px solid var(--border-color);
}

.search-box input {
    background: none;
    border: none;
    color: var(--text-primary);
    outline: none;
    width: 100%;
    margin-left: 0.5rem;
}

.search-box input::placeholder {
    color: var(--text-secondary);
}

table {
    width: 100%;
    border-collapse: collapse;
}

thead {
    background-color: #fafafa;
    border-bottom: 2px solid var(--border-color);
}

th {
    padding: 1rem;
    text-align: left;
    font-weight: 600;
    color: var(--text-secondary);
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

td {
    padding: 1rem;
    border-top: 1px solid var(--border-color);
}

tbody tr:hover {
    background-color: var(--hover-bg);
    cursor: pointer;
}

/* Status Badges */
.status-badge {
    display: inline-block;
    padding: 0.4rem 0.8rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
}

.status-excellent {
    background-color: rgba(102, 187, 106, 0.2);
    color: var(--accent-green);
}

.status-good {
    background-color: rgba(79, 195, 247, 0.2);
    color: var(--accent-cyan);
}

.status-average {
    background-color: rgba(255, 152, 0, 0.2);
    color: var(--accent-orange);
}

.status-weak {
    background-color: rgba(239, 83, 80, 0.2);
    color: #EF5350;
}

/* IAI Score */
.iai-score {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 700;
    font-size: 1.1rem;
}

.score-bar {
    width: 60px;
    height: 6px;
    background-color: var(--secondary-bg);
    border-radius: 3px;
    overflow: hidden;
}

.score-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 0.3s;
}

/* Analysis Detail View */
.detail-view {
    display: none;
}

.detail-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid var(--border-color);
}

.company-info {
    display: flex;
    align-items: center;
    gap: 1.5rem;
}

.company-logo {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, var(--accent-cyan), #29B6F6);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    font-weight: 700;
}

.metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.metric-card {
    background-color: var(--card-bg);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid var(--border-color);
    transition: transform 0.3s, box-shadow 0.3s;
}

.metric-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

.metric-label {
    color: var(--text-secondary);
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
}

.metric-value {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
}

.metric-change {
    font-size: 0.85rem;
    color: var(--accent-green);
}

.metric-change.negative {
    color: #EF5350;
}

/* Score Breakdown */
.score-breakdown {
    background-color: var(--card-bg);
    padding: 2rem;
    border-radius: 12px;
    margin-top: 2rem;
    border: 1px solid var(--border-color);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.score-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 0;
    border-bottom: 1px solid var(--border-color);
}

.score-item:last-child {
    border-bottom: none;
}

.score-label {
    font-weight: 500;
}

.score-value {
    display: flex;
    align-items: center;
    gap: 1rem;
}

/* Modal */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(5px);
}

.modal-content {
    background-color: var(--card-bg);
    margin: 5% auto;
    padding: 2rem;
    border-radius: 16px;
    max-width: 600px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    border: 1px solid var(--border-color);
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
}

.close {
    font-size: 2rem;
    cursor: pointer;
    color: var(--text-secondary);
}

.close:hover {
    color: var(--text-primary);
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    color: var(--text-secondary);
    font-weight: 500;
}

.form-group input,
.form-group textarea,
.form-group select {
    width: 100%;
    padding: 0.75rem;
    background-color: var(--primary-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    color: var(--text-primary);
    font-size: 1rem;
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
    outline: none;
    border-color: var(--accent-cyan);
}

.form-group textarea {
    resize: vertical;
    min-height: 100px;
}

/* File Upload */
.file-upload {
    border: 2px dashed var(--border-color);
    padding: 2rem;
    text-align: center;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s;
}

.file-upload:hover {
    border-color: var(--accent-cyan);
    background-color: var(--secondary-bg);
}

.file-upload input {
    display: none;
}

/* Hidden class */
.hidden {
    display: none;
}

/* Page-specific styles */
#documents-page .empty-state {
    text-align: center;
    padding: 4rem 2rem;
    background-color: var(--card-bg);
    border-radius: 12px;
    margin-top: 2rem;
}

.empty-state-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
    opacity: 0.5;
}


    </style>


</head>
<body>
    <!-- Sidebar Navigation -->
    <nav>
        <div class="logo">
            <img src="images/Asset 10.png" alt="Baseerah Logo" style="width: 30px; height: 30px; margin-right: 10px;">
            <span>Baseerah</span>
        </div>
        <ul class="nav-links">
            <li><a href="#" class="nav-link active" data-page="dashboard">
                <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 14L8.79689 11.8437C9.50894 10.9893 9.86496 10.562 10.3333 10.562C10.8017 10.562 11.1577 10.9893 11.8698 11.8437L12.1302 12.1563C12.8423 13.0107 13.1983 13.438 13.6667 13.438C14.135 13.438 14.4911 13.0107 15.2031 12.1563L17 10" stroke="#ffff" stroke-width="1.5" stroke-linecap="round"/>
<path d="M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C21.5093 4.43821 21.8356 5.80655 21.9449 8" stroke="#ffff" stroke-width="1.5" stroke-linecap="round"/>
</svg>
                <span>Dashboard</span>
            </a></li>
            <li><a href="#" class="nav-link" data-page="analysis">
                <span>
                    <?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
                    <svg width="20px" height="50 px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 9.5H21M3 14.5H21M8 4.5V19.5M6.2 19.5H17.8C18.9201 19.5 19.4802 19.5 19.908 19.282C20.2843 19.0903 20.5903 18.7843 20.782 18.408C21 17.9802 21 17.4201 21 16.3V7.7C21 6.5799 21 6.01984 20.782 5.59202C20.5903 5.21569 20.2843 4.90973 19.908 4.71799C19.4802 4.5 18.9201 4.5 17.8 4.5H6.2C5.0799 4.5 4.51984 4.5 4.09202 4.71799C3.71569 4.90973 3.40973 5.21569 3.21799 5.59202C3 6.01984 3 6.57989 3 7.7V16.3C3 17.4201 3 17.9802 3.21799 18.408C3.40973 18.7843 3.71569 19.0903 4.09202 19.282C4.51984 19.5 5.07989 19.5 6.2 19.5Z" stroke="#ffffffff" stroke-width="2"/>
                    </svg>
                </span>
                <span>Analysis</span>
            </a></li>
            <li><a href="#" class="nav-link" data-page="documents">
                <span>📄</span>
                <span>Document Creation</span>
            </a></li>

        <div class="user-menu">
            <span style="font-size: 1.5rem;">👤</span>
            <span>Account</span>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container">
        <!-- Dashboard Page -->
        <div id="dashboard-page" class="page">
            <div class="page-header">
                <h1 class="page-title">Investment Dashboard</h1>
                <button class="btn btn-primary" onclick="openAddInvestmentModal()">
                    + Add Investment
                </button>
            </div>

            <div class="table-container">
                <div class="table-header">
                    <h3>Investment Portfolio</h3>
                    <div class="search-box">
                        <span>🔍</span>
                        <input type="text" id="dashboardSearch" placeholder="Search investments..." onkeyup="filterDashboardTable()">
                    </div>
                </div>
                <table id="investmentTable">
                    <thead>
                        <tr>
                            <th>Company Name</th>
                            <th>Industry</th>
                            <th>Funding Round</th>
                            <th>Amount Requested</th>
                            <th>IAI Score</th>
                            <th>Status</th>
                            <th>Last Updated</th>
                        </tr>
                    </thead>
                    <tbody id="investmentTableBody">
                        <!-- Sample data will be loaded here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Analysis Page -->
        <div id="analysis-page" class="page hidden">
            <div class="page-header">
                <h1 class="page-title">Investment Analysis</h1>
                <div class="search-box">
                    <span>🔍</span>
                    <input type="text" id="analysisSearch" placeholder="Search investments..." onkeyup="filterAnalysisList()">
                </div>
            </div>

            <!-- Investment List View -->
            <div id="analysis-list" class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Company</th>
                            <th>IAI Score</th>
                            <th>Industry</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="analysisListBody">
                        <!-- Will be populated dynamically -->
                    </tbody>
                </table>
            </div>

            <!-- Detailed Analysis View -->
            <div id="analysis-detail" class="detail-view">
                <button class="btn btn-secondary" onclick="showAnalysisList()" style="margin-bottom: 1rem;">
                    ← Back to List
                </button>

                <div class="detail-header">
                    <div class="company-info">
                        <div class="company-logo" id="detailLogo"></div>
                        <div>
                            <h2 id="detailCompanyName"></h2>
                            <p style="color: var(--text-secondary);" id="detailIndustry"></p>
                        </div>
                    </div>
                    <div class="iai-score">
                        <span id="detailIAIScore" style="font-size: 2.5rem;"></span>
                        <span style="color: var(--text-secondary);">/100</span>
                    </div>
                </div>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-label">Profitability Score</div>
                        <div class="metric-value" id="profitabilityScore">--</div>
                        <div class="metric-change" id="profitabilityChange">--</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Valuation Score</div>
                        <div class="metric-value" id="valuationScore">--</div>
                        <div class="metric-change" id="valuationChange">--</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Financial Health</div>
                        <div class="metric-value" id="financialScore">--</div>
                        <div class="metric-change" id="financialChange">--</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Growth Potential</div>
                        <div class="metric-value" id="growthScore">--</div>
                        <div class="metric-change" id="growthChange">--</div>
                    </div>
                </div>

                <div class="score-breakdown">
                    <h3 style="margin-bottom: 1.5rem;">Detailed Score Breakdown</h3>
                    <div class="score-item">
                        <span class="score-label">Profitability & Returns</span>
                        <div class="score-value">
                            <span id="breakdown-profitability">--</span>
                            <div class="score-bar"><div class="score-fill" style="width: 0%; background: var(--accent-green);"></div></div>
                        </div>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Valuation</span>
                        <div class="score-value">
                            <span id="breakdown-valuation">--</span>
                            <div class="score-bar"><div class="score-fill" style="width: 0%; background: var(--accent-cyan);"></div></div>
                        </div>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Financial Health & Quality</span>
                        <div class="score-value">
                            <span id="breakdown-financial">--</span>
                            <div class="score-bar"><div class="score-fill" style="width: 0%; background: var(--accent-green);"></div></div>
                        </div>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Growth Potential</span>
                        <div class="score-value">
                            <span id="breakdown-growth">--</span>
                            <div class="score-bar"><div class="score-fill" style="width: 0%; background: var(--accent-cyan);"></div></div>
                        </div>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Risk & Volatility</span>
                        <div class="score-value">
                            <span id="breakdown-risk">--</span>
                            <div class="score-bar"><div class="score-fill" style="width: 0%; background: var(--accent-orange);"></div></div>
                        </div>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Market Context</span>
                        <div class="score-value">
                            <span id="breakdown-market">--</span>
                            <div class="score-bar"><div class="score-fill" style="width: 0%; background: var(--accent-cyan);"></div></div>
                        </div>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Management & Governance</span>
                        <div class="score-value">
                            <span id="breakdown-governance">--</span>
                            <div class="score-bar"><div class="score-fill" style="width: 0%; background: var(--accent-green);"></div></div>
                        </div>
                    </div>
                    <div class="score-item">
                        <span class="score-label">Competitiveness & Demand</span>
                        <div class="score-value">
                            <span id="breakdown-competitive">--</span>
                            <div class="score-bar"><div class="score-fill" style="width: 0%; background: var(--accent-orange);"></div></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Documents Page -->
        <div id="documents-page" class="page hidden">
            <div class="page-header">
                <h1 class="page-title">Documents</h1>
            </div>

            <div class="empty-state">
                <div class="empty-state-icon">📄</div>
                <h3>Document Generation</h3>
                <p style="color: var(--text-secondary); margin: 1rem 0;">Create professional due diligence documents for your investments</p>
                <button class="btn btn-primary" onclick="alert('Due Diligence document creation coming soon!')">
                    Create Due Diligence Document
                </button>
            </div>
        </div>
    </div>

    <!-- Add Investment Modal -->
    <div id="addInvestmentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Investment</h2>
                <span class="close" onclick="closeAddInvestmentModal()">&times;</span>
            </div>
            <form id="addInvestmentForm" onsubmit="addInvestment(event)">
                <div class="form-group">
                    <label>Company Name</label>
                    <input type="text" id="companyName" required>
                </div>
                <div class="form-group">
                    <label>Industry</label>
                    <select id="industry" required>
                        <option value="">Select Industry</option>
                        <option value="Technology">Technology</option>
                        <option value="Healthcare">Healthcare</option>
                        <option value="Finance">Finance</option>
                        <option value="E-commerce">E-commerce</option>
                        <option value="Manufacturing">Manufacturing</option>
                        <option value="Education">Education</option>
                        <option value="Real Estate">Real Estate</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Funding Round</label>
                    <select id="fundingRound" required>
                        <option value="">Select Round</option>
                        <option value="Seed">Seed</option>
                        <option value="Series A">Series A</option>
                        <option value="Series B">Series B</option>
                        <option value="Series C">Series C</option>
                        <option value="Series D+">Series D+</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Amount Requested</label>
                    <input type="text" id="amountRequested" placeholder="e.g., $1,000,000" required>
                </div>
                <div class="form-group">
                    <label>Upload Financial Statement</label>
                    <div class="file-upload" onclick="document.getElementById('fileInput').click()">
                        <input type="file" id="fileInput" accept=".pdf,.xlsx,.xls,.doc,.docx">
                        <p>📁 Click to upload or drag and drop</p>
                        <p style="color: var(--text-secondary); font-size: 0.85rem;">PDF, Excel, or Word documents</p>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
                    Add Investment
                </button>
            </form>
        </div>
    </div>

    <script>
        // Sample data structure (will be replaced by API calls)
        let investments = [
            {
                id: 1,
                company: "TechVision AI",
                industry: "Technology",
                fundingRound: "Series A",
                amount: "$2,500,000",
                iaiScore: 85,
                status: "Excellent",
                lastUpdated: "Oct 20, 2025",
                scores: {
                    profitability: 82,
                    valuation: 78,
                    financial: 88,
                    growth: 90,
                    risk: 72,
                    market: 85,
                    governance: 80,
                    competitive: 87
                }
            },
            {
                id: 2,
                company: "HealthTech Solutions",
                industry: "Healthcare",
                fundingRound: "Series B",
                amount: "$5,000,000",
                iaiScore: 78,
                status: "Good",
                lastUpdated: "Oct 18, 2025",
                scores: {
                    profitability: 75,
                    valuation: 80,
                    financial: 82,
                    growth: 85,
                    risk: 70,
                    market: 78,
                    governance: 76,
                    competitive: 79
                }
            },
            {
                id: 3,
                company: "GreenEnergy Corp",
                industry: "Energy",
                fundingRound: "Seed",
                amount: "$750,000",
                iaiScore: 92,
                status: "Excellent",
                lastUpdated: "Oct 22, 2025",
                scores: {
                    profitability: 88,
                    valuation: 92,
                    financial: 90,
                    growth: 95,
                    risk: 85,
                    market: 93,
                    governance: 89,
                    competitive: 91
                }
            }
        ];

        // Navigation
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const page = this.dataset.page;
                showPage(page);
                
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });

        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(page => page.classList.add('hidden'));
            document.getElementById(pageName + '-page').classList.remove('hidden');
            
            if (pageName === 'dashboard') {
                renderDashboardTable();
            } else if (pageName === 'analysis') {
                renderAnalysisList();
            }
        }

        // Dashboard functions
        function renderDashboardTable() {
            const tbody = document.getElementById('investmentTableBody');
            tbody.innerHTML = '';
            
            investments.forEach(inv => {
                const row = tbody.insertRow();
                row.onclick = () => viewInvestmentDetail(inv.id);
                
                row.innerHTML = `
                    <td><strong>${inv.company}</strong></td>
                    <td>${inv.industry}</td>
                    <td>${inv.fundingRound}</td>
                    <td>${inv.amount}</td>
                    <td>
                        <div class="iai-score">
                            <span style="color: ${getScoreColor(inv.iaiScore)}">${inv.iaiScore}</span>
                            <div class="score-bar">
                                <div class="score-fill" style="width: ${inv.iaiScore}%; background: ${getScoreColor(inv.iaiScore)};"></div>
                            </div>
                        </div>
                    </td>
                    <td><span class="status-badge ${getStatusClass(inv.status)}">${inv.status}</span></td>
                    <td>${inv.lastUpdated}</td>
                `;
            });
        }

        function filterDashboardTable() {
            const input = document.getElementById('dashboardSearch').value.toLowerCase();
            const tbody = document.getElementById('investmentTableBody');
            const rows = tbody.getElementsByTagName('tr');
            
            for (let row of rows) {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(input) ? '' : 'none';
            }
        }

        // Analysis page functions
        function renderAnalysisList() {
            const tbody = document.getElementById('analysisListBody');
            tbody.innerHTML = '';
            
            investments.forEach(inv => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td><strong>${inv.company}</strong></td>
                    <td><span style="color: ${getScoreColor(inv.iaiScore)}; font-weight: 700;">${inv.iaiScore}/100</span></td>
                    <td>${inv.industry}</td>
                    <td><button class="btn btn-secondary" onclick="showInvestmentDetail(${inv.id})">View Analysis</button></td>
                `;
            });
        }

        function filterAnalysisList() {
            const input = document.getElementById('analysisSearch').value.toLowerCase();
            const tbody = document.getElementById('analysisListBody');
            const rows = tbody.getElementsByTagName('tr');
            
            for (let row of rows) {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(input) ? '' : 'none';
            }
        }

        function showAnalysisList() {
            document.getElementById('analysis-list').style.display = 'block';
            document.getElementById('analysis-detail').style.display = 'none';
        }

        function showInvestmentDetail(id) {
            const investment = investments.find(inv => inv.id === id);
            if (!investment) return;
            
            document.getElementById('analysis-list').style.display = 'none';
            document.getElementById('analysis-detail').style.display = 'block';
            
            // Populate detail view
            document.getElementById('detailLogo').textContent = investment.company.charAt(0);
            document.getElementById('detailCompanyName').textContent = investment.company;
            document.getElementById('detailIndustry').textContent = investment.industry;
            document.getElementById('detailIAIScore').textContent = investment.iaiScore;
            document.getElementById('detailIAIScore').style.color = getScoreColor(investment.iaiScore);
            
            // Metric cards
            document.getElementById('profitabilityScore').textContent = investment.scores.profitability;
            document.getElementById('valuationScore').textContent = investment.scores.valuation;
            document.getElementById('financialScore').textContent = investment.scores.financial;
            document.getElementById('growthScore').textContent = investment.scores.growth;
            
            // Breakdown
            const categories = ['profitability', 'valuation', 'financial', 'growth', 'risk', 'market', 'governance', 'competitive'];
            categories.forEach(cat => {
                const score = investment.scores[cat];
                document.getElementById(`breakdown-${cat}`).textContent = score + '/100';
                const fill = document.querySelector(`#breakdown-${cat}`).parentElement.querySelector('.score-fill');
                fill.style.width = score + '%';
            });
        }

        function viewInvestmentDetail(id) {
            showPage('analysis');
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.querySelector('[data-page="analysis"]').classList.add('active');
            setTimeout(() => showInvestmentDetail(id), 100);
        }

        // Modal functions
        function openAddInvestmentModal() {
            document.getElementById('addInvestmentModal').style.display = 'block';
        }

        function closeAddInvestmentModal() {
            document.getElementById('addInvestmentModal').style.display = 'none';
            document.getElementById('addInvestmentForm').reset();
        }

        function addInvestment(event) {
            event.preventDefault();
            
            const newInvestment = {
                id: investments.length + 1,
                company: document.getElementById('companyName').value,
                industry: document.getElementById('industry').value,
                fundingRound: document.getElementById('fundingRound').value,
                amount: document.getElementById('amountRequested').value,
                iaiScore: Math.floor(Math.random() * 30) + 70, // Placeholder
                status: "Pending Analysis",
                lastUpdated: new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }),
                scores: {
                    profitability: 0,
                    valuation: 0,
                    financial: 0,
                    growth: 0,
                    risk: 0,
                    market: 0,
                    governance: 0,
                    competitive: 0
                }
            };
            
            investments.push(newInvestment);
            renderDashboardTable();
            closeAddInvestmentModal();
            
            // This is where you'd make an API call:
            // fetch('/api/investments', {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json' },
            //     body: JSON.stringify(newInvestment)
            // }).then(response => response.json()).then(data => {
            //     console.log('Investment added:', data);
            // });
        }

        // Helper functions
        function getScoreColor(score) {
            if (score >= 85) return 'var(--accent-green)';
            if (score >= 70) return 'var(--accent-cyan)';
            if (score >= 55) return 'var(--accent-orange)';
            return '#EF5350';
        }

        function getStatusClass(status) {
            const statusMap = {
                'Excellent': 'status-excellent',
                'Good': 'status-good',
                'Average': 'status-average',
                'Weak': 'status-weak',
                'Pending Analysis': 'status-average'
            };
            return statusMap[status] || 'status-average';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('addInvestmentModal');
            if (event.target === modal) {
                closeAddInvestmentModal();
            }
        }

        // File upload handler
        document.getElementById('fileInput').addEventListener('change', function(e) {
            const fileName = e.target.files[0]?.name;
            if (fileName) {
                const uploadDiv = document.querySelector('.file-upload');
                uploadDiv.innerHTML = `
                    <p>✅ ${fileName}</p>
                    <p style="color: var(--accent-green); font-size: 0.85rem;">File ready to upload</p>
                `;
            }
        });

        // Initialize dashboard on page load
        renderDashboardTable();

        // API Integration Points:
        // 1. GET /api/investments - Fetch all investments
        // 2. POST /api/investments - Add new investment
        // 3. GET /api/investments/:id - Get detailed analysis
        // 4. PUT /api/investments/:id - Update investment
        // 5. DELETE /api/investments/:id - Remove investment
        // 6. POST /api/documents/due-diligence - Generate document
    </script>
</body>
</html>
